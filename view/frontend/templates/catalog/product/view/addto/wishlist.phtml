<?php
/**
 * Copyright Â© MageKey. All rights reserved.
 * See LICENSE.txt for license details.
 */

/** @var $block \Magento\Wishlist\Block\Catalog\Product\View\Addto\Wishlist */

$_product = $block->getProduct();
$_wishlistHelper = $this->helper('MageKey\AddToLinks\Helper\Wishlist');

?>
<?php if ($_wishlistHelper->isAllow()): ?>
    <a href="#"
       class="action towishlist"
       data-mage-init='{
           "MageKey_AddToLinks/js/add-to-wishlist": {
               "productId": <?= /* @escapeNotVerified */ $_product->getId(); ?>,
               "addParams": <?= /* @escapeNotVerified */ $_wishlistHelper->getAddParams($_product); ?>,
               "removeParams": <?= /* @escapeNotVerified */ $_wishlistHelper->getRemoveParams(); ?>,
               "loginUrl": "<?= /* @escapeNotVerified */ $_wishlistHelper->getLoginUrl(); ?>"
           }
       }'
       data-action="add-to-wishlist">
        <span><?= /* @escapeNotVerified */ __('Add to Wish List') ?></span>
    </a>
<?php endif; ?>
<script type="text/x-magento-init">
    {
        "body": {
            "addToWishlist": <?= /* @escapeNotVerified */ $block->getWishlistOptionsJson() ?>
        }
    }
</script>
